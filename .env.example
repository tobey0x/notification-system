# ==============================================
# SHARED SECRETS (MUST BE IDENTICAL EVERYWHERE)
# ==============================================
# These secrets MUST match across all services for JWT validation to work
ACCESS_SECRET=your-secure-access-secret-change-in-production-min-32-chars
REFRESH_SECRET=your-secure-refresh-secret-change-in-production-min-32-chars
JWT_SECRET=your-secure-jwt-secret-change-in-production-min-32-chars

# ==============================================
# API GATEWAY CONFIGURATION
# ==============================================
# Server settings
PORT=8080
ENV=development

# User Service Integration
USER_SERVICE_URL=http://localhost:3000

# RabbitMQ Configuration
RABBITMQ_URL=amqp://admin:admin123@localhost:5672/
RABBITMQ_EXCHANGE=notification.direct
RABBITMQ_EMAIL_QUEUE=email.queue
RABBITMQ_PUSH_QUEUE=push.queue
RABBITMQ_FAILED_QUEUE=failed.queue

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_DB=0

# ==============================================
# USER SERVICE CONFIGURATION
# ==============================================
# Server settings (User Service runs on port 3000)
USER_SERVICE_PORT=3000

# Database Configuration (PostgreSQL)
DATABASE_URL=postgresql://notif_user:notif_pass@localhost:5432/notification_system

# Redis/Cache Configuration (Optional - for Upstash)
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# ==============================================
# EMAIL SERVICE CONFIGURATION (Member 3)
# ==============================================
# SMTP Settings - Gmail Example
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_gmail_app_password
FROM_EMAIL=your_email@gmail.com

# Note: For Gmail, you need to:
# 1. Enable 2-Factor Authentication
# 2. Generate App Password: https://myaccount.google.com/apppasswords
# 3. Use the App Password (not your Gmail password)

# ==============================================
# PUSH SERVICE CONFIGURATION (Member 4)
# ==============================================
PUSH_SERVICE_PORT=3001

# Firebase Cloud Messaging (FCM)
# Get from: Firebase Console > Project Settings > Service Accounts
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project-id.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour private key here\n-----END PRIVATE KEY-----\n"

# ==============================================
# INFRASTRUCTURE SERVICES
# ==============================================
# PostgreSQL Database
POSTGRES_USER=notif_user
POSTGRES_PASSWORD=notif_pass
POSTGRES_DB=notification_system

# RabbitMQ
RABBITMQ_DEFAULT_USER=admin
RABBITMQ_DEFAULT_PASS=admin123

# ==============================================
# CI/CD & DEPLOYMENT (GitHub Secrets)
# ==============================================
# These should be configured in GitHub repository secrets:
# - SERVER_HOST: Your deployment server hostname/IP
# - SERVER_USER: SSH username for deployment
# - SSH_PRIVATE_KEY: Private SSH key for authentication
# - SERVER_PORT: SSH port (default: 22)
# - SLACK_WEBHOOK: Slack webhook URL for notifications (optional)
# - CODECOV_TOKEN: Codecov token for coverage reports (optional)

# ==============================================
# IMPORTANT NOTES
# ==============================================
# 1. NEVER commit this file with real secrets to git
# 2. Generate strong random secrets in production:
#    openssl rand -base64 32
# 3. ACCESS_SECRET must be identical in both:
#    - API Gateway (.env)
#    - User Service (.env)
# 4. For Docker Compose, create a .env file in the root directory
# 5. For local development, copy this to .env and update values
# 6. In production, use environment variables or secrets management

# ==============================================
# QUICK START
# ==============================================
# 1. Copy this file: cp .env.example .env
# 2. Generate secrets: openssl rand -base64 32
# 3. Update ACCESS_SECRET, REFRESH_SECRET, JWT_SECRET
# 4. Update database credentials if needed
# 5. Start services: docker-compose up -d
